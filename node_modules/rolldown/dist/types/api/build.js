import { rolldown } from './rolldown';
async function build(options) {
    if (Array.isArray(options)) {
        return Promise.all(options.map((opts) => build(opts)));
    }
    else {
        const { output, write = true, ...inputOptions } = options;
        const build = await rolldown(inputOptions);
        try {
            if (write) {
                return await build.write(output);
            }
            else {
                return await build.generate(output);
            }
        }
        finally {
            await build.close();
        }
    }
}
export { build };
